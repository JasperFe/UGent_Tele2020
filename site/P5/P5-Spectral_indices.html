
<!DOCTYPE html>

<html class="no-js" lang="nl">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../assets/images/LOGO_REMOSA_2020.jpg" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-6.1.0" name="generator"/>
<title>Spectrale indices - (I002450) Practica Teledetectie 2020</title>
<link href="../assets/stylesheets/main.bc7e593a.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.ab28b872.min.css" rel="stylesheet"/>
<meta content="#009485" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
</head>
<body data-md-color-accent="" data-md-color-primary="teal" data-md-color-scheme="" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#spectral-indices">
          Ga naar inhoud
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="(I002450) Practica Teledetectie 2020" class="md-header-nav__button md-logo" href=".." title="(I002450) Practica Teledetectie 2020">
<img alt="logo" src="../assets/images/LOGO_REMOSA_2020.jpg"/>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            (I002450) Practica Teledetectie 2020
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              Spectrale indices
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Zoeken" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Zoeken" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs md-tabs--active" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../index.html">
        Home
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../P3-intro.html">
          P3 - Beeldvoorbewerking
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../P4/P4-Goals.html">
          P4 - Intro tot Google Earth Engine
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="P5-Intro.html">
          P5 - Feature Extraction
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../P6/P6-intro.html">
          P6 - Beeldclassificatie
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../P7/P7-Timeseries.html">
          P7 - Tijdseries en SAR
        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="(I002450) Practica Teledetectie 2020" class="md-nav__button md-logo" href=".." title="(I002450) Practica Teledetectie 2020">
<img alt="logo" src="../assets/images/LOGO_REMOSA_2020.jpg"/>
</a>
    (I002450) Practica Teledetectie 2020
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../index.html">
      Home
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" id="nav-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2">
      P3 - Beeldvoorbewerking
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="P3 - Beeldvoorbewerking" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-2">
<span class="md-nav__icon md-icon"></span>
        P3 - Beeldvoorbewerking
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../P3-intro.html">
      Introduction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P3-Sentinel2.html">
      Sentinel-2 intro and download
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P3-Snap-intro.html">
      Introduction to SNAP
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P3-colour-composites.html">
      RGB colour composites
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P3-image-preprocessing.html">
      Image preprocessing in SNAP
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P3-colour-composites-ctd.html">
      RGB colour composites 2
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      P4 - Intro tot Google Earth Engine
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="P4 - Intro tot Google Earth Engine" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon"></span>
        P4 - Intro tot Google Earth Engine
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../P4/P4-Goals.html">
      Doel van het practicum
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P4/P4-DataCatalog.html">
      EarthEngine data catalog
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P4/P4-Intro.html">
      Introductie tot Earth Engine
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P4/P4-ImageVisualization.html">
      Satellietdata oproepen, filteren en visualiseren
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P4/P4-Reducing.html">
      Reducing ImageCollections
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P4/P4-Cloud_masking.html">
      Cloud masking
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P4/P4-Oefeningen.html">
      (Extra) Oefeningen
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
      P5 - Feature Extraction
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="P5 - Feature Extraction" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-4">
<span class="md-nav__icon md-icon"></span>
        P5 - Feature Extraction
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="P5-Intro.html">
      Intro
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Spectrale indices
        <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="P5-Spectral_indices.html">
      Spectrale indices
    </a>
<nav aria-label="Inhoudsopgave" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Inhoudsopgave
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#spectral-indices">
    Spectral indices
  </a>
<nav aria-label="Spectral indices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ndvi">
    NDVI
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#band-math-bandbewerkingen">
    Band Math (bandbewerkingen)
  </a>
<nav aria-label="Band Math (bandbewerkingen)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#bewerkingen-via-operatoren">
    Bewerkingen via operatoren
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bewerkingen-via-expressies">
    Bewerkingen via expressies
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#andere-indices">
    Andere indices
  </a>
<nav aria-label="Andere indices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#de-normalized-difference-water-index-ndwi">
    De Normalized Difference Water Index (NDWI)
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#opdrachten">
    Opdrachten
  </a>
<nav aria-label="Opdrachten" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ndvi-voor-elk-seizoen">
    NDVI voor elk seizoen
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#extra-toevoegen-van-een-legende">
    EXTRA: Toevoegen van een legende
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="P5-ImageStatistics.html">
      Beeldstatistieken
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="P5-Texture.html">
      Textuuranalyse
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="P5-PCA.html">
      Principale componenten analyse
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="P5-Oefeningen.html">
      Oefeningen
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" id="nav-5" type="checkbox"/>
<label class="md-nav__link" for="nav-5">
      P6 - Beeldclassificatie
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="P6 - Beeldclassificatie" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-5">
<span class="md-nav__icon md-icon"></span>
        P6 - Beeldclassificatie
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../P6/P6-intro.html">
      Intro
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P6/P6-SurinameCase.html">
      CASE - Mangrove monitoring in Suriname
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P6/P6-Unsupervised.html">
      Niet-gesuperviseerde classificatie
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P6/P6-Supervised.html">
      Gesuperviseerde classificatie
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P6/P6-Improvement.html">
      Verbeteren van de classificatie
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P6/P6-SpectralResponse_oud.html">
      Spectrale responsiecurves
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P6/P6-Oefeningen.html">
      Oefeningen
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" id="nav-6" type="checkbox"/>
<label class="md-nav__link" for="nav-6">
      P7 - Tijdseries en SAR
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="P7 - Tijdseries en SAR" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-6">
<span class="md-nav__icon md-icon"></span>
        P7 - Tijdseries en SAR
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../P7/P7-Timeseries.html">
      Tijdserie-analyse
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../P7/P7-SAR-tijdseries.html">
      SAR-analyse
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Inhoudsopgave" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Inhoudsopgave
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#spectral-indices">
    Spectral indices
  </a>
<nav aria-label="Spectral indices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ndvi">
    NDVI
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#band-math-bandbewerkingen">
    Band Math (bandbewerkingen)
  </a>
<nav aria-label="Band Math (bandbewerkingen)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#bewerkingen-via-operatoren">
    Bewerkingen via operatoren
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bewerkingen-via-expressies">
    Bewerkingen via expressies
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#andere-indices">
    Andere indices
  </a>
<nav aria-label="Andere indices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#de-normalized-difference-water-index-ndwi">
    De Normalized Difference Water Index (NDWI)
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#opdrachten">
    Opdrachten
  </a>
<nav aria-label="Opdrachten" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ndvi-voor-elk-seizoen">
    NDVI voor elk seizoen
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#extra-toevoegen-van-een-legende">
    EXTRA: Toevoegen van een legende
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<h1>Spectrale indices</h1>
<h2 id="spectral-indices">Spectral indices</h2>
<p><strong>Spectral indices</strong> zijn combinaties van 2 of meerdere spectrale banden die gebruikt worden om bepaalde features extra in de verf te zetten of ze te herberekenen naar een relatieve schaal.</p>
<h3 id="ndvi">NDVI</h3>
<p>De meest gebruikte index is de <strong>Normalized Difference Vegatation Index (NDVI)</strong>, en wordt berekend als:</p>
<div class="arithmatex">\[NDVI = { NIR - RED \over NIR + RED}.\]</div>
<p>Waarbij:<br/>
NIR = reflectie in het nabij-infrarode gebied van het spectrum (oftwel Near-Infrared)<br/>
RED = reflectie in het rode gebied van het spectrum  </p>
<p>De resulterende index krijgt waarden binnen tussen -1 en 1.  </p>
<p>Volgens deze formule is de densiteit van vegetatie (NDVI) op een gegeven plaats in het beeld gelijk aan de verschillen in intensiteit van het gereflecteerde licht in het rood en infrarode deel van het spectrum, gedeeld door de soms van deze intensiteiten. Vegetatie absorbeert immers een groot deel van het zichtbare licht ten behoeve van de fotosynthese (dus lage Rood-reflectie), maar weerkaatst vrijwel al het infrarode licht (hoge IR-reflectiewaarde), waardoor de ndvi stijgt. Hoe denser de vegetatie, hoe hoger de ndvi. Andere lichamen, zoals water, observeren IR dan weer beter tot zeer goed, waardoor de ndvi daalt.  </p>
<p>In Earth Engine kan de NDVI op verschillende manieren berekend worden. We starten met de ‘meest conventionele’:  </p>
<ul>
<li>
<p>We starten deze oefening in de Gentse haven. Maal een puntsymbool aan ergens ter hoogte van de Gentse haven in Evergem.</p>
<p><p align="center">
<img src="Images/GEE_HavenGent.JPG"/> <br/>
</p> </p>
</li>
<li>
<p>Importeer de Sentinel-2 Surface Reflectance (Tier 1) collection en zoek naar het beeld met de laagste wolkbedekking uit 2019 in de periode mei-juni (= de late lente). Bekijk van welke datum het beeld afkomstig is. Visualiseer als een valse kleurencomposiet  </p>
<div class="highlight"><pre><span></span><code><span class="c1">//1. Importeren van de Sentinel-2 collectie.</span>
<span class="kd">var</span> <span class="nx">S2</span> <span class="o">=</span> <span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">"COPERNICUS/S2_SR"</span><span class="p">);</span>

<span class="c1">//Filteren op basis van datum (lente 2019) + beeld met laagste wolkenpercentage selecteren</span>
<span class="kd">var</span> <span class="nx">S2_Gent_Lente19</span> <span class="o">=</span> <span class="nx">S2</span><span class="p">.</span><span class="nx">filterBounds</span><span class="p">(</span><span class="nx">HavenGent</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="s1">'2019-03-20'</span><span class="p">,</span> <span class="s1">'2019-06-30'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="s1">'CLOUDY_PIXEL_PERCENTAGE'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">first</span><span class="p">();</span>

<span class="nx">print</span><span class="p">(</span><span class="s1">'Gent_Lente19:'</span><span class="p">,</span><span class="nx">S2_Gent_Lente19</span><span class="p">)</span>

<span class="c1">//Visualisatieparameters (of handmatig instellen)</span>
<span class="kd">var</span> <span class="nx">S2_ValseKleuren</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">gamma</span><span class="o">:</span> <span class="mf">2</span><span class="p">,</span>
  <span class="nx">min</span><span class="o">:</span> <span class="mf">275</span><span class="p">,</span>
  <span class="nx">max</span><span class="o">:</span> <span class="mf">2088</span><span class="p">,</span>
  <span class="nx">bands</span><span class="o">:</span> <span class="p">[</span><span class="s1">'B8'</span><span class="p">,</span> <span class="s1">'B4'</span><span class="p">,</span> <span class="s1">'B3'</span><span class="p">],</span>
  <span class="p">};</span>

<span class="c1">//Toevoegen aan Map</span>
<span class="nx">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">S2_Gent_Lente19</span><span class="p">,</span><span class="nx">S2_ValseKleuren</span><span class="p">,</span><span class="s1">'Valse Kleuren lente 2019'</span><span class="p">)</span>
</code></pre></div>
</li>
<li>
<p>Een eerste methode om een NDVI aan te maken is via de ingebouwde <code>.normalizedDifference()</code> functie. Ga na welke Sentinel-2 banden je nodig hebt om de ndvi te berekenen. (Maak eventueel gebruik van de ‘Docs’-tab.)  </p>
<div class="highlight"><pre><span></span><code><span class="c1">//2. Aanmaken NDVI via NormalDifference()-functie. Vul de '?' in</span>
<span class="kd">var</span> <span class="nx">ndvi</span> <span class="o">=</span> <span class="nx">S2_Gent_Lente19</span><span class="p">.</span><span class="nx">normalizedDifference</span><span class="p">([</span><span class="s1">'?'</span><span class="p">,</span> <span class="s1">'?'</span><span class="p">]).</span><span class="nx">rename</span><span class="p">(</span><span class="s1">'NDVI'</span><span class="p">);</span>
<span class="nx">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">ndvi</span><span class="p">,{},</span><span class="s1">'ndvi_lente_2019'</span><span class="p">)</span> <span class="c1">//Zonder visualisatieparametes</span>
</code></pre></div>
<p><p align="center">
<img src="Images/GEE_ndvi_noparams.JPG"/> <br/>
</p> </p>
</li>
<li>
<p>Een ndvi wordt meestal afgebeeld met een kleurenschema, zoals onderstaand voorbeeld:
   <div class="highlight"><pre><span></span><code><span class="c1">// Met visualisatie</span>
<span class="kd">var</span> <span class="nx">ndviParams</span> <span class="o">=</span> <span class="p">{</span><span class="nx">min</span><span class="o">:</span> <span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="nx">max</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">palette</span><span class="o">:</span> <span class="p">[</span><span class="s1">'red'</span><span class="p">,</span><span class="s1">'yellow'</span><span class="p">,</span><span class="s1">'darkgreen'</span><span class="p">]};</span>
<span class="nx">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">ndvi</span><span class="p">,</span> <span class="nx">ndviParams</span><span class="p">,</span> <span class="s1">'ndvi_2019_vis'</span><span class="p">);</span>
</code></pre></div></p>
<p><p align="center">
<img src="Images/GEE_ndvi_params.JPG"/> <br/>
</p></p>
</li>
</ul>
<details class="question" open="open"><summary>Oefening: Connecteer de ndvi-waarden met de gepaste landbedekkingsklasse. </summary><table>
<thead>
<tr>
<th align="center">NDVI waarde</th>
<th align="center">Landbedekking (Lente)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Negative values (&lt; 0)</td>
<td align="center">rocks, bare soil, clouds</td>
</tr>
<tr>
<td align="center">Small values (0.1 or less)</td>
<td align="center">shrubs and meadows</td>
</tr>
<tr>
<td align="center">Moderate values (0.2 to 0.3)</td>
<td align="center">temperate and tropical forests</td>
</tr>
<tr>
<td align="center">Large values (0.6 to 0.8)</td>
<td align="center">(clouds,) water and snow</td>
</tr>
</tbody>
</table>
</details>
<details class="success"><summary>Antwoord</summary><table>
<thead>
<tr>
<th align="center">NDVI waarde</th>
<th align="center">Landbedekking (Lente)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Negative values (&lt; 0)</td>
<td align="center">clouds, water and snow</td>
</tr>
<tr>
<td align="center">Small values (0.1 or less)</td>
<td align="center">rocks and bare soil</td>
</tr>
<tr>
<td align="center">Moderate values (0.2 to 0.3)</td>
<td align="center">shrubs and meadows</td>
</tr>
<tr>
<td align="center">Large values (0.6 to 0.8)</td>
<td align="center">temperate and tropical forests</td>
</tr>
</tbody>
</table>
</details>
<h2 id="band-math-bandbewerkingen">Band Math (bandbewerkingen)</h2>
<p>Bandbewerkingen kunnen worden gebruikt om een nieuw beeld aan te maken van de reeds bestaande banden. Het berekenen van indices zoals de NDVI, is al een treffend voorbeeld hiervan. Andere mogelijkheden zijn ratio’s, het verschil van 2 beelden op 2 verschillende tijdstippen om mogelijke veranderingen visueel te benadrukken, …</p>
<p>Er zijn 2 manieren om in Earth Engine een bewerking uit te voeren.</p>
<h3 id="bewerkingen-via-operatoren">Bewerkingen via operatoren</h3>
<p>De basisoperators maken gebruik van 2 inputs: ofwel 2 beelden, ofwel 1 beeld en 1 constante. De bewerkingen worden steeds per pixel en per band uitgevoerd. Voorbeeld van operatoren zijn  <code>add()</code>, <code>subtract()</code> en <code>divide()</code>. </p>
<div class="highlight"><pre><span></span><code><span class="c1">//NDVI berekenen aan de hand van bandwerkingen met operatoren</span>
<span class="c1">// Lange uitwerking: noodzakelijke banden eerst selecteren en onderbrengen in een nieuwe variabele</span>
<span class="kd">var</span> <span class="nx">nir</span> <span class="o">=</span> <span class="nx">S2_Gent_Lente19</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">'B8'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">red</span> <span class="o">=</span> <span class="nx">S2_Gent_Lente19</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">'B4'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ndvi2</span> <span class="o">=</span> <span class="nx">nir</span><span class="p">.</span><span class="nx">subtract</span><span class="p">(</span><span class="nx">red</span><span class="p">).</span><span class="nx">divide</span><span class="p">(</span><span class="nx">nir</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">red</span><span class="p">)).</span><span class="nx">rename</span><span class="p">(</span><span class="s1">'NDVI'</span><span class="p">);</span>
<span class="nx">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">ndvi2</span><span class="p">,</span> <span class="nx">ndviParams</span><span class="p">,</span> <span class="s1">'ndvi via operatoren'</span><span class="p">);</span>
</code></pre></div>
<p>Het resultaat is logischerwijs identiek als de voorgaande ndvi-berekening.</p>
<h3 id="bewerkingen-via-expressies">Bewerkingen via expressies</h3>
<p>Het spreekt voor zich dat bovenstaande methode voor complex wiskundige bewerkingen niet handig is. Voor dergelijke bewerkingen wordt aangeraden om gebruik te maken van <code>image.expression()</code>, gezien de inputvariabelen hier afzonderlijk worden aangegeven, waardoor de bewerking gemakkelijker wordt weergegeven en het coderen zo vereenvoudigd wordt. De expressie aanvaardt tevens ook constanten. Variabelen die binnen de expressie worden gebruikt, moeten steeds worden aangegeven, zoals in onderstaande NDVI-berekening;</p>
<div class="highlight"><pre><span></span><code><span class="c1">//NDVI aan de hand van een expressie</span>
  <span class="kd">var</span> <span class="nx">ndvi3</span> <span class="o">=</span> <span class="nx">SS2_Gent_Lente19</span><span class="p">.</span><span class="nx">expression</span><span class="p">(</span>
      <span class="s1">'(NIR - RED)/(NIR + RED)'</span><span class="p">,</span> <span class="p">{</span>
        <span class="s1">'NIR'</span><span class="o">:</span> <span class="nx">S2_Gent_Lente19</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">'B8'</span><span class="p">),</span>
        <span class="s1">'RED'</span><span class="o">:</span> <span class="nx">S2_Gent_Lente19</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">'B4'</span><span class="p">)</span>
  <span class="p">});</span>
</code></pre></div>
<p>Ook hier is het resultaat hetzelfde als de vorige ndvi-berekeningen.</p>
<details class="info" open="open"><summary>Gebruikte operators binnen expressies</summary><p>Onderstaande tabel geeft de binnen de expressies gehanteerde operators weer (bron: <a href="https://developers.google.com/earth-engine/guides/image_math">Earth Engine guide</a>)</p>
<p><p align="center">
<img src="Images/GEE_operators.JPG"/> <br/>
</p></p>
</details>
<h2 id="andere-indices">Andere indices</h2>
<p>Naast de NDVI bestaan er nog een heleboel andere indices, elk met een eigen toepassing.</p>
<h3 id="de-normalized-difference-water-index-ndwi">De Normalized Difference Water Index (NDWI)</h3>
<p>Er bestaan 2 indices met de naam 'NDWI', beiden gerelateerd aan water:</p>
<ol>
<li>De <em>NDWI</em> ontwikkeld door <a href="https://www.sciencedirect.com/science/article/pii/S0034425796000673">Gao (1996)</a>, als index voor het watergehalte van vegetatie. De Index is gebaseerd op de NIR (gevoelig voor vegetatie) en SWIR (gevoelig voor water) banden:</li>
</ol>
<div class="arithmatex">\[NDWI = { NIR - SWIR \over NIR + SWIR}.\]</div>
<ol>
<li>De <em>NDWI</em> ontwikkeld door <a href="https://www.tandfonline.com/doi/abs/10.1080/01431169608948714">McFeeters (1996)</a>, als index voor het verscherpen van verschillen in waterlichamen;</li>
</ol>
<div class="arithmatex">\[NDWI = { GREEN - NIR \over GREEN + NIR}.\]</div>
<div class="admonition note">
<p class="admonition-title">Opdracht NDWI</p>
<p>Test beide NDWI-indices uit op het Sentinel-beeld van de Gentse Haven en omstreken. Bekijk de verschillen. Kijk hiervoor zeker naar naburige natuurgebieden en waterplassen.</p>
</div>
<h2 id="opdrachten">Opdrachten</h2>
<h3 id="ndvi-voor-elk-seizoen">NDVI voor elk seizoen</h3>
<ol>
<li>Maak een wolkenvrije beeldencollectie aan (via 30%-'CLOUDY_PIXEL_PERCENTAGE'-filter + een cloudmask toepassen) aan van de regio Durbuy binnen volgende periodes. Gebruik onderstaande Cloudmask-functie:  </li>
</ol>
<p><div class="highlight"><pre><span></span><code>   <span class="kd">function</span> <span class="nx">maskS2clouds</span><span class="p">(</span><span class="nx">image</span><span class="p">)</span> <span class="p">{</span>
     <span class="kd">var</span> <span class="nx">qa</span> <span class="o">=</span> <span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">'QA60'</span><span class="p">);</span>

     <span class="c1">// Bits 10 and 11 are clouds and cirrus, respectively.</span>
     <span class="kd">var</span> <span class="nx">cloudBitMask</span> <span class="o">=</span> <span class="mf">1</span> <span class="o">&lt;&lt;</span> <span class="mf">10</span><span class="p">;</span>
     <span class="kd">var</span> <span class="nx">cirrusBitMask</span> <span class="o">=</span> <span class="mf">1</span> <span class="o">&lt;&lt;</span> <span class="mf">11</span><span class="p">;</span>

     <span class="c1">// Both flags should be set to zero, indicating clear conditions.</span>
     <span class="kd">var</span> <span class="nx">mask</span> <span class="o">=</span> <span class="nx">qa</span><span class="p">.</span><span class="nx">bitwiseAnd</span><span class="p">(</span><span class="nx">cloudBitMask</span><span class="p">).</span><span class="nx">eq</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
       <span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">qa</span><span class="p">.</span><span class="nx">bitwiseAnd</span><span class="p">(</span><span class="nx">cirrusBitMask</span><span class="p">).</span><span class="nx">eq</span><span class="p">(</span><span class="mf">0</span><span class="p">));</span>

     <span class="k">return</span> <span class="nx">image</span><span class="p">.</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">mask</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre></div>
2. Maak een functie aan om de NDVI te berekenen. Laat de functie dan los op de Imagecollectie via <code>.map()</code>.  </p>
<ol>
<li>
<p>Maak aan de hand van de collectie 3 beelden aan met een <code>median()</code>-reducer, binnen volgende periodes:  </p>
<p>A. Jan-Februari (Winter)<br>
 B. April-Mei (Lente)<br>
 C. Juli-Augustus (Zomer)  </br></br></p>
</li>
<li>
<p>Visualiseer voor elk seizoen een Normale Kleurencomposiet en een NDVI-beeld. Gebruik onderstaande visualisatieparameters bij het plotten:</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1">//Visualisatieparameters instellen</span>
<span class="kd">var</span> <span class="nx">NormaleKleuren</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">min</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span>
  <span class="nx">max</span><span class="o">:</span> <span class="mf">1500</span><span class="p">,</span>
  <span class="nx">bands</span><span class="o">:</span> <span class="p">[</span><span class="s1">'B4'</span><span class="p">,</span> <span class="s1">'B3'</span><span class="p">,</span> <span class="s1">'B2'</span><span class="p">],</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">ndviParams</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">min</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span>
  <span class="nx">max</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span>
  <span class="nx">bands</span><span class="o">:</span> <span class="p">[</span><span class="s1">'NDVI'</span><span class="p">],</span>
  <span class="nx">palette</span><span class="o">:</span> <span class="p">[</span><span class="s1">'red'</span><span class="p">,</span><span class="s1">'yellow'</span><span class="p">,</span><span class="s1">'darkgreen'</span><span class="p">]</span>
<span class="p">};</span>
</code></pre></div>
<div class="admonition check">
<p class="admonition-title">Oplossing Oefening NDVI per seizoen</p>
<p>Via deze link: <a href="https://code.earthengine.google.com/a1243399a079ca44bff6550e960354ed?noload=true">https://code.earthengine.google.com/a1243399a079ca44bff6550e960354ed?noload=true</a></p>
</div>
<h2 id="extra-toevoegen-van-een-legende">EXTRA: Toevoegen van een legende</h2>
<p>Om een overzichtelijke legende toe te voegen aan je kaart, kun je onderstaande code gebruiken. Hiermee voeg je een legendepaneel toe voor continue ndvi-data. </p>
<div class="highlight"><pre><span></span><code><span class="c1">//-------------------------</span>
<span class="cm">/* LEGENDE TOEVOEGEN */</span>
<span class="c1">//-------------------------</span>

<span class="c1">// set position of panel</span>
<span class="kd">var</span> <span class="nx">legend</span> <span class="o">=</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span>
  <span class="nx">style</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">position</span><span class="o">:</span> <span class="s1">'bottom-left'</span><span class="p">,</span>
    <span class="nx">padding</span><span class="o">:</span> <span class="s1">'8px 15px'</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="c1">// Create legend title</span>
<span class="kd">var</span> <span class="nx">legendTitle</span> <span class="o">=</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span>
  <span class="nx">value</span><span class="o">:</span> <span class="s1">'ndvi'</span><span class="p">,</span>
  <span class="nx">style</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">fontWeight</span><span class="o">:</span> <span class="s1">'bold'</span><span class="p">,</span>
    <span class="nx">fontSize</span><span class="o">:</span> <span class="s1">'18px'</span><span class="p">,</span>
    <span class="nx">margin</span><span class="o">:</span> <span class="s1">'0 0 4px 0'</span><span class="p">,</span>
    <span class="nx">padding</span><span class="o">:</span> <span class="s1">'0'</span>
    <span class="p">}</span>
<span class="p">});</span>

 <span class="c1">// Add the title to the panel</span>
<span class="nx">legend</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">legendTitle</span><span class="p">);</span> 

<span class="c1">// create the legend image</span>
<span class="kd">var</span> <span class="nx">lon</span> <span class="o">=</span> <span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">.</span><span class="nx">pixelLonLat</span><span class="p">().</span><span class="nx">select</span><span class="p">(</span><span class="s1">'latitude'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">gradient</span> <span class="o">=</span> <span class="nx">lon</span><span class="p">.</span><span class="nx">multiply</span><span class="p">((</span><span class="nx">ndviParams</span><span class="p">.</span><span class="nx">max</span><span class="o">-</span><span class="nx">ndviParams</span><span class="p">.</span><span class="nx">min</span><span class="p">)</span><span class="o">/</span><span class="mf">100.0</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="nx">ndviParams</span><span class="p">.</span><span class="nx">min</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">legendImage</span> <span class="o">=</span> <span class="nx">gradient</span><span class="p">.</span><span class="nx">visualize</span><span class="p">(</span><span class="nx">ndviParams</span><span class="p">);</span>

<span class="c1">// create text on top of legend</span>
<span class="kd">var</span> <span class="nx">panel</span> <span class="o">=</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span>
    <span class="nx">widgets</span><span class="o">:</span> <span class="p">[</span>
      <span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">(</span><span class="nx">ndviParams</span><span class="p">[</span><span class="s1">'max'</span><span class="p">])</span>
    <span class="p">],</span>
  <span class="p">});</span>

<span class="nx">legend</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">panel</span><span class="p">);</span>

<span class="c1">// create thumbnail from the image</span>
<span class="kd">var</span> <span class="nx">thumbnail</span> <span class="o">=</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">Thumbnail</span><span class="p">({</span>
  <span class="nx">image</span><span class="o">:</span> <span class="nx">legendImage</span><span class="p">,</span> 
  <span class="nx">params</span><span class="o">:</span> <span class="p">{</span><span class="nx">bbox</span><span class="o">:</span><span class="s1">'0,0,10,100'</span><span class="p">,</span> <span class="nx">dimensions</span><span class="o">:</span><span class="s1">'10x200'</span><span class="p">},</span>  
  <span class="nx">style</span><span class="o">:</span> <span class="p">{</span><span class="nx">padding</span><span class="o">:</span> <span class="s1">'1px'</span><span class="p">,</span> <span class="nx">position</span><span class="o">:</span> <span class="s1">'bottom-center'</span><span class="p">}</span>
<span class="p">});</span>

<span class="c1">// add the thumbnail to the legend</span>
<span class="nx">legend</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">thumbnail</span><span class="p">);</span>


<span class="c1">// create text on top of legend</span>
<span class="kd">var</span> <span class="nx">panel</span> <span class="o">=</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span>
    <span class="nx">widgets</span><span class="o">:</span> <span class="p">[</span>
      <span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">(</span><span class="nx">ndviParams</span><span class="p">[</span><span class="s1">'min'</span><span class="p">])</span>
    <span class="p">],</span>
  <span class="p">});</span>

<span class="nx">legend</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">panel</span><span class="p">);</span>

<span class="nx">Map</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">legend</span><span class="p">);</span>
</code></pre></div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="P5-Intro.html" rel="prev">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Vorige
                </span>
                Intro
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="P5-ImageStatistics.html" rel="next">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Volgende
                </span>
                Beeldstatistieken
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
 ... <a class="link--pdf-download" download href="..\pdf\document.pdf" title="PDF">download PDF</a></div>
</div>
</div>
</footer>
</div>
<script src="../assets/javascripts/vendor.6a3d08fc.min.js"></script>
<script src="../assets/javascripts/bundle.71201edf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Kopi\u00ebren naar klembord", "clipboard.copied": "Gekopieerd naar klembord", "search.config.lang": "nl", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Zoeken", "search.result.placeholder": "Typ om te beginnen met zoeken", "search.result.none": "Geen overeenkomende documenten", "search.result.one": "1 overeenkomende document", "search.result.other": "# overeenkomende documenten", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
<script>
        app = initialize({
          base: "..",
          features: ['navigation.sections', 'navigation.tabs'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
<script src="../javascripts/config.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>