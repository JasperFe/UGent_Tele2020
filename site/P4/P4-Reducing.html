
<!doctype html>
<html lang="nl" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../assets/images/LOGO_REMOSA_2020.jpg">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.0">
    
    
      
        <title>Reducing ImageCollections - Teledetectie 2020</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bc7e593a.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab28b872.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#over-reducing" class="md-skip">
          Ga naar inhoud
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Teledetectie 2020" class="md-header-nav__button md-logo" aria-label="Teledetectie 2020">
      
  <img src="../assets/images/LOGO_REMOSA_2020.jpg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Teledetectie 2020
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Reducing ImageCollections
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Zoeken" placeholder="Zoeken" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../index.html" class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../P3-intro.html" class="md-tabs__link">
          Practicum 3
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="P4-Goals.html" class="md-tabs__link md-tabs__link--active">
          Practicum 4
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Teledetectie 2020" class="md-nav__button md-logo" aria-label="Teledetectie 2020">
      
  <img src="../assets/images/LOGO_REMOSA_2020.jpg" alt="logo">

    </a>
    Teledetectie 2020
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Practicum 3
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Practicum 3" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Practicum 3
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../P3-intro.html" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../P3-Sentinel2.html" class="md-nav__link">
      Sentinel-2 intro and download
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../P3-Snap-intro.html" class="md-nav__link">
      Introduction to SNAP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../P3-colour-composites.html" class="md-nav__link">
      RGB colour composites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../P3-image-preprocessing.html" class="md-nav__link">
      Image preprocessing in SNAP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../P3-colour-composites-ctd.html" class="md-nav__link">
      RGB colour composites 2
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Practicum 4
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Practicum 4" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Practicum 4
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="P4-Goals.html" class="md-nav__link">
      Doel van het practicum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="P4-DataCatalog.html" class="md-nav__link">
      EarthEngine data catalog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="P4-Intro.html" class="md-nav__link">
      Introductie tot Earth Engine
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="P4-ImageVisualization.html" class="md-nav__link">
      Satellietdata oproepen, filteren en visualiseren
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Reducing ImageCollections
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="P4-Reducing.html" class="md-nav__link md-nav__link--active">
      Reducing ImageCollections
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Inhoudsopgave">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhoudsopgave
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#over-reducing" class="md-nav__link">
    Over Reducing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shortcut-syntax" class="md-nav__link">
    Shortcut syntax
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="P4-Cloud_masking.html" class="md-nav__link">
      Cloud masking
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Inhoudsopgave">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhoudsopgave
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#over-reducing" class="md-nav__link">
    Over Reducing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shortcut-syntax" class="md-nav__link">
    Shortcut syntax
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Reducing ImageCollections</h1>
                
                <h2 id="over-reducing">Over Reducing</h2>
<p>‘Reducing’ een beeld- of datacollectie in Google Earth Engine is het proces waarbij de beeldcollectie wordt geaggregeerd over tijd, ruimte, banden, ....  </p>
<p>In dit proces wordt een beeldcomposiet aangemaakt van de beschikbare beelden in de collectie, waarbij per pixel een bepaalde vooropgestelde waarde wordt gekozen, zoals het min, max, gemiddelde, mediaan,… De collectie wordt als het ware 'gereduceerd' tot één enkel visualiseerbaar beeld.</p>
<p align="center">
  <img src="images/reducer_image.png" width="200">  <br>
  <em> Reducing an ImageCollection: principe. </em>
</p>

<p>Een voorbeeld: neem de eerste pixel van de gefilterde en gesorteerde Landsat 8 collectie <code>L8_sortedCC</code>. Visualiseer het resultaat. Wat valt je op? Is ditmaal het volledige gebied bedekt?</p>
<div class="highlight"><pre><span></span><code><span class="c1">//  Reducer over de L8_sortedCC collectie, waarbij steeds de eerste pixel genomen wordt.</span>
<span class="kd">var</span> <span class="nx">L8_first_red</span> <span class="o">=</span> <span class="nx">L8_sortedCC</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Reducer</span><span class="p">.</span><span class="nx">first</span><span class="p">());</span>

<span class="c1">//Bekijk de eigenschappen van het gereduceerd beeld</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">L8_first_red</span><span class="p">)</span>

<span class="kd">var</span> <span class="nx">visParams_first</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">bands</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;B4_first&#39;</span><span class="p">,</span> <span class="s1">&#39;B3_first&#39;</span><span class="p">,</span> <span class="s1">&#39;B2_first&#39;</span><span class="p">],</span>
  <span class="nx">min</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span>
  <span class="nx">max</span><span class="o">:</span> <span class="mf">3000</span><span class="p">,</span>
  <span class="nx">gamma</span><span class="o">:</span> <span class="mf">1.4</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// Visualiseren als een normale kleurencomposiet</span>
<span class="nx">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">L8_first_red</span><span class="p">,</span> <span class="nx">visParams_first</span><span class="p">,</span> <span class="s1">&#39;L8_First pixels&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Bandbenaming na reducing</p>
<p>Let ook, bij het aanroepen van de reducer functie, worden ook de banden hernoemd. Houd hier rekening mee bij het visualiseren. Het eventueel hernoemen van banden kan via de functie <strong><code>.rename()</code></strong>
<p align="center">
<img src="images/First_reducer_bands.JPG" width="250">  <br>
<em> Bandnamen bij de 'First'-gereduceerde collectie. </em>
</p></p>
</div>
<div class="admonition warning">
<p class="admonition-title"><code>ee.Reducer.first()</code> VS <code>.first()</code></p>
<p>In een eerdere oefening namen we reeds het eerste beeld uit een hele collectie met de <code>.first()</code> functie. Dit is dus niet hetzelfde, gezien een reducer zicht niet beperkt tot één enkel beeld, maar de volledige collectie gaat reduceren. </p>
</div>
<h2 id="shortcut-syntax">Shortcut syntax</h2>
<p>Bepaalde – veel gebruikte – reducers hebben ook een zogenaamde ‘shortcut’ syntax in Earth engine zoals <code>mean()</code>, <code>median()</code>, <code>min()</code> en <code>sum()</code>. Deze shortcut syntax zorgt ervoor dat een collectie eenvoudiger te reduceren is, zonder de hele <code>.reduce()(ee.Reducer.mean())</code> syntax te moeten gebruiken. Een voorbeeld:</p>
<div class="highlight"><pre><span></span><code><span class="c1">//Een Median() Reducer over the Landsat-8 collectie</span>
<span class="kd">var</span> <span class="nx">L8_median</span> <span class="o">=</span> <span class="nx">L8</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Reducer</span><span class="p">.</span><span class="nx">median</span><span class="p">());</span>

<span class="c1">//Of via de short-syntax (geeft zelfde resultaat)</span>
<span class="kd">var</span> <span class="nx">L8_median</span> <span class="o">=</span> <span class="nx">L8</span><span class="p">.</span><span class="nx">median</span><span class="p">();</span>

<span class="c1">// Visualiseren</span>
<span class="nx">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">L8_median</span><span class="p">,</span> <span class="nx">trueColor</span><span class="p">,</span> <span class="s1">&#39;L8_median&#39;</span><span class="p">)</span>
</code></pre></div>
<p align="center">
  <img src="images/Voorbeeld_median_reducer.JPG">  <br>
  <em> Voorbeeld mediane reducer over de L8_sortedCC-collectie </em>
</p>

<div class="admonition note">
<p class="admonition-title">Opdracht</p>
<p>Probeer enkele van de Reducers uit op je Sentinel-2 collectie van Gent.</p>
<p>Bewaar je script.</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="P4-ImageVisualization.html" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Vorige
                </span>
                Satellietdata oproepen, filteren en visualiseren
              </div>
            </div>
          </a>
        
        
          <a href="P4-Cloud_masking.html" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Volgende
                </span>
                Cloud masking
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.6a3d08fc.min.js"></script>
      <script src="../assets/javascripts/bundle.71201edf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Kopi\u00ebren naar klembord", "clipboard.copied": "Gekopieerd naar klembord", "search.config.lang": "nl", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Zoeken", "search.result.placeholder": "Typ om te beginnen met zoeken", "search.result.none": "Geen overeenkomende documenten", "search.result.one": "1 overeenkomende document", "search.result.other": "# overeenkomende documenten", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ['navigation.sections', 'navigation.tabs'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>